# sema

Async semaphore

```
npm install sema
```

```js
var sema = require('sema')
var pool = sema(5)

for (var i = 0; i < 100; i++) {
  pool.take(function () {
    // do stuff
    pool.leave()
  })
}

```

## API

### var s = sema([capacity=1])
Initialize semaphore with a number of `capacity`.

### s.take(fn)
Take/acquire a permit. Callback to asynchronous function `fn` when available.

### s.leave()
Leave/release a permit back to semaphore.

### s.isEmpty()
Returns true if semaphore is empty.

## License
MIT
